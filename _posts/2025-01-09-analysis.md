---
layout: post
title: Country Indicators and Their Correlation
subtitle: How population, GDP, life expectancy, access to electricity, and literacy rates across the world's countries relate 
---

# Heart Attacks in Germany

The dataset I chose to analyze is titled: _Heart Attack in Youth Vs Adult in Germany_

## Where

I found it on [kaggle](https://www.kaggle.com/datasets/ankushpanday1/heart-attack-in-youth-vs-adult-in-germany) and I liked it because the data was very clean and there was a mix of categorical and ordinal data that I could choose from. I, for the most part, disregarded that the data was specifically from German people, as I didn't think there was something about Germany that would sway heart attack statistics, however, it is important to note that all the data is specifically from German people.

I considered a few different datasets before I settled on this one, but each of them were rejected because either the data wasn't that interesting or there weren't really any visible trends or note-worthy things that I could point out. <a href="../assets/past-datasets.zip" download>The datasets I tried first</a>.

## Why

As I said, I wasn't really interested in the German states aspect of the data, however I did think the data on BMI, Alcohol Consumption, Physical Activity, Diet Quality, etc. are really interesting. I have always been interested in nutrition and fitness, and I was hoping to learn more about what things were specifically correlated with heart attacks.

There are also a bunch of other general health statistics that are not directly related to heart attacks, but still reveal important insights about health as a whole.

Specifically, I wanted to see how BMI might correlate with heart attacks as BMI is pretty controversial and not actually a great way to measure health or body composition. I also wanted to look at the impacts of smoking vs. alcohol on heart attacks and general health. 

## The Data

The variables I looked at first were the major ordinal variables (`Alcohol_Consumption`, `BMI`, `Cholesterol_Level`, and `Pollution`) against the major binary variables, meaning whether you had a certain condition or not (`Heart_Attack_Incidence`, `Diabetes`, `Hypertension`). I wanted to use the mean of the binary variables to find the percentage of people with the given condition at each interval of the ordinal variable, so when I was making the graphs, I used the following code:

```python
import matplotlib.pyplot as plt
x = "Alcohol_Consumption"
y="Heart_Attack_Incidence"

heart_attack_by_var = csv.groupby(x)[y].mean()
plot_data = heart_attack_by_var.reset_index()

sns.lineplot(
    data=plot_data,
    x=x,
    y=y,
)

plt.xlabel(x)
```
The resulting output would look like this: ![Heart Attacks vs. Alcohol Consumption](../assets/img/heart-alcohol.png)

After making all the graphs, however, I realized that finding the mean was not needed and the seaborn `lineplot()` function finds the estimated mean relationship by default. And, in fact, it also displays the confidence interval around the relationship in a lighter shade of blue. 

![Heart Attacks vs. Alcohol Consumption with Confidence Interval](../assets/img/confidence-bar-heart-alcohol.png)

Since I had been using that code while saving the graphs, all of the graphs displayed will be without the confidence interval. However, that isn't a major issue, as I will point out when the confidence interval is likely large, often due to sparse data.

Here are each of the major ordinal variables vs. the binary variables:

### Alcohol Consumption

![Heart Attacks vs. Alcohol Consumption](../assets/img/heart-alcohol.png)

![Diabetes vs. Alcohol Consumption](../assets/img/diabetes-alcohol.png)

![Hypertension vs. Alcohol Consumption](../assets/img/hypertension-alcohol.png)

### BMI

![Heart Attacks vs. BMI](../assets/img/heart-bmi.png)

![Diabetes vs. BMI](../assets/img/diabetes-bmi.png)

![Hypertension vs. BMI](../assets/img/hypertension-bmi.png)

### Cholesterol Level

![Heart Attacks vs. Cholesterol](../assets/img/heart-cholesterol.png)

![Diabetes vs. Cholesterol](../assets/img/diabetes-cholesterol.png)

![Hypertension vs. Cholesterol](../assets/img/hypertension-cholesterol.png)

### Air Pollution Index

![Heart Attacks vs. Pollution](../assets/img/heart-pollution.png)

![Diabetes vs. Pollution](../assets/img/diabetes-pollution.png)

![Hypertension vs. Pollution](../assets/img/hypertension-pollution.png)

## Categorical Data Bins

```python
import matplotlib.pyplot as plt
variable = "Alcohol_Consumption"

csv['var_bin'] = pd.cut(csv[variable], bins=5)
heart_attack_by_var = csv.groupby('var_bin')['Heart_Attack_Incidence'].mean()
plot_data = heart_attack_by_var.reset_index()

sns.barplot(
    data=plot_data,
    x='var_bin',
    y='Heart_Attack_Incidence',
)

plt.xticks(rotation=45, ha='right')
plt.xlabel(variable)
```

![Heart Attacks vs. Alcohol binned](../assets/img/bar-heart-alcohol.png)

## Heart Attack Bar Charts

![Heart Attacks vs. Gender and Age Group](../assets/img/bar-heart-age-gender.png)

![Heart Attacks vs. Physical Activity and Diet](../assets/img/bar-heart-activity-diet.png)

![Heart Attacks vs. Smoker Status and Stress](../assets/img/bar-heart-smoker-stress.png)

![Heart Attacks vs. Healthcare Acess and Socioeconomic Status](../assets/img/bar-heart-healthcare-socioeconomic.png)

## Conclusions

